<div class="wrapper">
<app-character-grid
    [playerName]="player1Name"
    i18n-playerNamePlaceholder
    playerNamePlaceholder="Player 1"
    [selectedCharacter]="player1Selected"
    [playerSnapshot]="snapshot.player1"
    [selectMode]="p1SelectMode"
    (clickCharacter)="characterClicked('player1', $event)"
    (nameUpdated)="updateName('player1', $event)"
    [readyToFight]="player1Selected && !player2Selected && initialCharSelect"
    [initialStockCount]="initialStockCount"
    [showStockSelector]="!gameOver && player1Selected && player2Selected"
    (selectedRemainingStocks)="p1RemainingStocksSelected($event)"
    [pos]="'left'"></app-character-grid>

<div class="middlemiddle">
<div class="middlebox">
    <div class="content">
        <mat-toolbar color="primary">
            <mat-toolbar-row>
              <span class="app-title" i18n>12-Character Battle</span>
              <span class="spacer"></span>
              <button mat-flat-button i18n="New game button label" color="basic"
                  *ngIf="showNewGameButton()"
                  (click)="newBattle()">
                New
              </button>
              &nbsp;
              <button mat-flat-button i18n="Undo button label" color="basic"
                  (click)="undo()">
                Undo
              </button>
            </mat-toolbar-row>
          </mat-toolbar>
          
          <!-- <mat-form-field>
            <mat-label i18n="Label for a language dropdown">Language</mat-label>
            <mat-select [(value)]="selectedLanguage" (selectionChange)="changeLocale($event)">
              <mat-option *ngFor="let language of LANGUAGES" [value]="language.code">
                {{language.display}}
              </mat-option>
            </mat-select>
          </mat-form-field> -->
          <mat-form-field>
            <mat-label i18n="Label for a visual theme dropdown">Theme</mat-label>
            <mat-select [(value)]="selectedTheme" (selectionChange)="changeTheme($event)">
              <mat-option *ngFor="let theme of getThemes()" class="themeIcon" [value]="theme.name" [style.background-image]="'url(' + randomThemeImage(theme) + ')'">
                {{theme.name}} 
                <!-- <img [src]="randomThemeImage(theme)" class="themeIcon"> -->
              </mat-option>
            </mat-select>
          </mat-form-field>
  
          <mat-divider></mat-divider>
  
          <mat-card class="footer">
            <mat-card-content i18n="Page footer">
              12cb app made by <a href="https://twitter.com/jonnjonnSSB" target="_blank">jonnjonn</a>. Code available on <a href="https://github.com/hopskipnfall/12cb" target="_blank">Github</a>.
            </mat-card-content>
          </mat-card>
          
    </div>
</div>
</div>

<app-character-grid
    [playerName]="player2Name"
    i18n-playerNamePlaceholder
    playerNamePlaceholder="Player 2"
    [selectedCharacter]="player2Selected"
    [playerSnapshot]="snapshot.player2"
    [selectMode]="p2SelectMode"
    (clickCharacter)="characterClicked('player2', $event)"
    (nameUpdated)="updateName('player2', $event)"
    [readyToFight]="player2Selected && !player1Selected && initialCharSelect"
    [initialStockCount]="initialStockCount"
    [showStockSelector]="!gameOver && player1Selected && player2Selected"
    (selectedRemainingStocks)="p2RemainingStocksSelected($event)"
    [pos]="'right'"></app-character-grid>
</div>
