<mat-card class="player-card">

  <mat-card-header>
    <mat-card-title>
      <mat-form-field *ngIf="!nameStatic" style="width: 87%">
        <input matInput type="text" name="stockCount"
            [placeholder]="playerNamePlaceholder"
            (change)="nameUpdated.emit(playerName)"
            [(ngModel)]="playerName">
      </mat-form-field>
      <span class="player-name"
          *ngIf="nameStatic">
          {{playerName || playerNamePlaceholder}}
        </span>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>

    <div class="button-overlay" *ngIf="readyToFight">
      <span class="ready-to-fight" i18n="Banner indicating the player is ready to fight">Ready to Fight</span>
    </div>

    <mat-grid-list cols="2" rowHeight="1:1">
      <mat-grid-tile class="character-tile" 
          matRipple
          [matRippleDisabled]="!(selectMode && character.stocks != 0)"
          *ngFor="let character of playerSnapshot.characters"
          [ngClass]="{'dead': character.stocks == 0, 'dying': (character.stocks != 0 && character.stocks != initialStockCount), 'selected-char': character.name == selectedCharacter, 'selectable': selectMode && character.stocks != 0 && character.name != selectedCharacter}"
          (click)="clickCharacter.emit(character)">
          <div class="image-bg"
              [style.background-image]="'url(assets/icons/sekirei/' + character.name + '.png)'">
            <app-character character="{{character.name}}" stocks="{{character.stocks}}" [initialStockCount]="initialStockCount"></app-character>
          </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-card-content>
</mat-card>
